"use strict";$(document).ready(function(){$(document).on("change","select[data-sort-redirect]",function(){var t=window.location.pathname+"?"+$(this).val(),n=window.location.protocol+"//"+window.location.host;window.location=n+t}),function(t){t(document).on("click",".js-thumblist a",function(n){n.preventDefault();var e=t(this),o=e.closest(".js-thumblist").data("target"),i=t(o),a=e.attr("href");e.parent().addClass("selected").siblings().removeClass("selected"),i.attr("src",a)})}(jQuery),$(document).on("click",".js-addtocart",function(t){t.preventDefault(),$(this).sendRequest("shop:onAddToCart",{update:{"#mini-cart":"shop-minicart","#product-page":"shop-product","#modal-minicart":"modal-minicart"},onAfterUpdate:function(){}})}),function(t){function n(){if(t(this).attr("name")){var n=t(this),e=n.val(),o=n.attr("name").match(d);if(o){o=o[1];var i=new RegExp(o,"g"),c=a.filter(function(){return this.name.match(i)});c.val(e),"billing_country"===n[0].id&&c.trigger("change")}}}var e=t("#billing-info"),o=e.find(":input:not([type=hidden])"),i=t("#shipping-info"),a=i.find(":input:not([type=hidden])"),c=t(document).find(".js-mirrordata"),d=/\[(.*?)\]/,s="keyup blur change";t(window).on("onAfterAjaxUpdate",function(){e=t("#billing-info"),o=e.find(":input:not([type=hidden])"),i=t("#shipping-info"),a=i.find(":input:not([type=hidden])"),a.prop("disabled",c.is(":checked"))}),t(document).on(s,o,function(e){return c=t(document).find(".js-mirrordata"),c.is(":checked")?(n.apply(e.target),!1):void 0}),t(document).on("change",c,function(){a.prop("disabled",c.is(":checked"))}),a.prop("disabled",c.is(":checked"))}(jQuery),$("#cart-content").on("keydown","input#coupon",function(t){13===t.which&&$(this).sendRequest("shop:cart",{update:{"#cart-content":"shop-cart-content","#mini-cart":"shop-minicart"},extraFields:{set_coupon_code:1}})}),$("#cart-content").on("keydown","input.quantity",function(t){13===t.which&&$(this).sendRequest("shop:cart",{update:{"#cart-content":"shop-cart-content","#mini-cart":"shop-minicart"}})}),$("#checkout-page").on("change","#shipping-methods input",function(){$(this).sendRequest("shop:onCheckoutShippingMethod",{update:{"#checkout-totals":"shop-checkout-totals","#mini-cart":"shop-minicart"}})}),$(document).on("change","#payment_method input",function(){$("#payment_form").html('<i class="fa fa-refresh fa-spin"/>'),$(this).sendRequest("shop:onUpdatePaymentMethod",{update:{"#payment_form":"shop-paymentform"}})})});